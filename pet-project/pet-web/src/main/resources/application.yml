server:
  port: 8081
  servlet:
    context-path: /api

spring:
  main:
    allow-circular-references: true
  # DevTools 热部署配置
  devtools:
    restart:
      enabled: true
      # 排除不需要触发重启的资源
      exclude: static/**,public/**,*.log
      additional-exclude: target/classes/com/example/demo/entity/**,target/classes/com/example/demo/mapper/**
  # 标准Spring Boot数据源配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/pets?useSSL=false&serverTimezone=UTC&characterEncoding=utf-8
    username: root
    password: zx4221335
    type: com.alibaba.druid.pool.DruidDataSource
  # SQL初始化配置
  sql:
    init:
      mode: always
      continue-on-error: true

# Redis配置
pet:
  redis:
    host: localhost
    port: 6379
    password: zx4221335
    database: 0
  jwt:
    admin-secret-key: itcastSecretKeyThatIsLongEnoughForHS256AlgorithmRequirements
    admin-ttl: 7200000
    admin-token-name: token
    user-secret-key: itheimaSecretKeyThatIsLongEnoughForHS256AlgorithmRequirements
    user-ttl: 86400000
    user-token-name: authentication

# MyBatis Plus 配置
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
    map-underscore-to-camel-case: true
  global-config:
    db-config:
      id-type: auto
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

# 日志配置
logging:
  level:
    com.example.demo: debug
    org.springframework: debug
    org.springframework.web: debug
    org.springframework.boot.autoconfigure: debug
    com.baomidou.mybatisplus: debug

# 应用配置
app:
  upload-dir: ${java.io.tmpdir}demo-project-uploads/media
  upload-max-size: 52428850

# SpringDoc OpenAPI 配置
springdoc:
  api-docs:
    path: /v3/api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    disable-swagger-default-url: true