import{d as w,I as F,c as h,o as u,a as p,t as m,l as e,e as a,w as t,r as n,O as I,a4 as W,g as b}from"./index-CdkwbEeW.js";import{a as B}from"./user-BB2Eil3-.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./request-AZOEAvTT.js";import"./dog-DzFJ_7DI.js";const q={class:"profile-container"},j={class:"profile-header"},A={class:"profile-main"},D={class:"form-container"},O=["src"],S=w({__name:"Profile",setup(T){const{t:l,profileFormRef:P,loading:g,profileForm:o,computedRules:v,beforeImageUpload:V,handleImageUpload:k,submitForm:C,resetForm:x,handleImageError:c}=B(),f=F(()=>o.headPic&&o.headPic.startsWith("data:")||o.headPic&&o.headPic.startsWith("data:image")||o.headPic&&(o.headPic.startsWith("http://")||o.headPic.startsWith("https://"))?o.headPic:o.headPic&&!o.headPic.startsWith("/src/assets/img/")?`/images/${o.headPic}`:"/src/assets/img/dog.jpg");return($,r)=>{const i=n("el-input"),d=n("el-form-item"),y=n("el-icon"),E=n("el-upload"),_=n("el-button"),N=n("el-form"),U=n("el-divider");return u(),h("div",q,[p("header",j,[p("h1",null,m(e(l)("user.editProfile")),1)]),p("main",A,[p("div",D,[a(N,{model:e(o),rules:e(v),ref_key:"profileFormRef",ref:P,"label-width":"140px","label-position":"left"},{default:t(()=>[a(d,{label:e(l)("user.username"),prop:"userName"},{default:t(()=>[a(i,{modelValue:e(o).userName,"onUpdate:modelValue":r[0]||(r[0]=s=>e(o).userName=s),placeholder:e(l)("common.pleaseEnter")+e(l)("user.username")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(d,{label:e(l)("user.email"),prop:"email"},{default:t(()=>[a(i,{modelValue:e(o).email,"onUpdate:modelValue":r[1]||(r[1]=s=>e(o).email=s),placeholder:e(l)("common.pleaseEnter")+e(l)("user.email")+e(l)("common.address")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(d,{label:e(l)("user.phone"),prop:"phone"},{default:t(()=>[a(i,{modelValue:e(o).phone,"onUpdate:modelValue":r[2]||(r[2]=s=>e(o).phone=s),placeholder:e(l)("common.pleaseEnter")+e(l)("user.phone")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(d,{label:e(l)("user.avatar"),prop:"avatar"},{default:t(()=>[a(E,{class:"avatar-uploader",action:"#","show-file-list":!1,"before-upload":e(V),"http-request":e(k)},{default:t(()=>[f.value?(u(),h("img",{key:0,src:f.value,class:"avatar",onError:r[3]||(r[3]=(...s)=>e(c)&&e(c)(...s))},null,40,O)):(u(),I(y,{key:1,class:"avatar-uploader-icon"},{default:t(()=>[a(e(W))]),_:1}))]),_:1},8,["before-upload","http-request"])]),_:1},8,["label"]),a(d,{label:e(l)("user.bio"),prop:"bio"},{default:t(()=>[a(i,{modelValue:e(o).introduce,"onUpdate:modelValue":r[4]||(r[4]=s=>e(o).introduce=s),type:"textarea",rows:4,placeholder:e(l)("common.pleaseEnter")+e(l)("user.bio")+e(l)("common.optional")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(d,null,{default:t(()=>[a(_,{type:"primary",onClick:e(C),loading:e(g)},{default:t(()=>[b(m(e(l)("user.saveChanges")),1)]),_:1},8,["onClick","loading"]),a(_,{onClick:e(x)},{default:t(()=>[b(m(e(l)("user.reset")),1)]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"]),a(U)])])])}}}),L=R(S,[["__scopeId","data-v-d1e93de8"]]);export{L as default};
