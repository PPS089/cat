import{d as U,I as w,c as f,o as i,a as u,t as m,m as e,e as l,w as t,r as n,O as F,a2 as B,g as h,_ as I}from"./index-BSW2uGQz.js";import{a as R}from"./user-Q_984HoY.js";import"./request-qgYNvrL7.js";const j={class:"profile-container"},q={class:"profile-header"},A={class:"profile-main"},D={class:"form-container"},O=["src"],S=U({__name:"Profile",setup(T){const{t:o,profileFormRef:b,loading:v,profileForm:a,computedRules:g,beforeImageUpload:V,handleImageUpload:k,submitForm:P,resetForm:C}=R(),c=w(()=>a.headPic&&a.headPic.startsWith("data:")?a.headPic:a.headPic||"/src/assets/img/dog.jpg");return(W,r)=>{const p=n("el-input"),d=n("el-form-item"),x=n("el-icon"),y=n("el-upload"),_=n("el-button"),E=n("el-form"),N=n("el-divider");return i(),f("div",j,[u("header",q,[u("h1",null,m(e(o)("user.editProfile")),1)]),u("main",A,[u("div",D,[l(E,{model:e(a),rules:e(g),ref_key:"profileFormRef",ref:b,"label-width":"140px","label-position":"left"},{default:t(()=>[l(d,{label:e(o)("user.username"),prop:"userName"},{default:t(()=>[l(p,{modelValue:e(a).userName,"onUpdate:modelValue":r[0]||(r[0]=s=>e(a).userName=s),placeholder:e(o)("common.pleaseEnter")+e(o)("user.username")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(d,{label:e(o)("user.email"),prop:"email"},{default:t(()=>[l(p,{modelValue:e(a).email,"onUpdate:modelValue":r[1]||(r[1]=s=>e(a).email=s),placeholder:e(o)("common.pleaseEnter")+e(o)("user.email")+e(o)("common.address")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(d,{label:e(o)("user.phone"),prop:"phone"},{default:t(()=>[l(p,{modelValue:e(a).phone,"onUpdate:modelValue":r[2]||(r[2]=s=>e(a).phone=s),placeholder:e(o)("common.pleaseEnter")+e(o)("user.phone")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(d,{label:e(o)("user.avatar"),prop:"avatar"},{default:t(()=>[l(y,{class:"avatar-uploader",action:"#","show-file-list":!1,"before-upload":e(V),"http-request":e(k)},{default:t(()=>[c.value?(i(),f("img",{key:0,src:c.value,class:"avatar",onError:r[3]||(r[3]=s=>e(a).headPic="/src/assets/img/dog.jpg")},null,40,O)):(i(),F(x,{key:1,class:"avatar-uploader-icon"},{default:t(()=>[l(e(B))]),_:1}))]),_:1},8,["before-upload","http-request"])]),_:1},8,["label"]),l(d,{label:e(o)("user.bio"),prop:"bio"},{default:t(()=>[l(p,{modelValue:e(a).introduce,"onUpdate:modelValue":r[4]||(r[4]=s=>e(a).introduce=s),type:"textarea",rows:4,placeholder:e(o)("common.pleaseEnter")+e(o)("user.bio")+e(o)("common.optional")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(d,null,{default:t(()=>[l(_,{type:"primary",onClick:e(P),loading:e(v)},{default:t(()=>[h(m(e(o)("user.saveChanges")),1)]),_:1},8,["onClick","loading"]),l(_,{onClick:e(C)},{default:t(()=>[h(m(e(o)("user.reset")),1)]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"]),l(N)])])])}}}),H=I(S,[["__scopeId","data-v-1f52109d"]]);export{H as default};
